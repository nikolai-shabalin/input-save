class i{#t="localstorage";#e=document.querySelectorAll(`[data-${this.#t}]`);#s=new Map;constructor(){this.init()}#i=t=>{const e=t.dataset[this.#t],s=t.value;localStorage.setItem(`${e}`,s)};#a=t=>{const e=t.dataset[this.#t],s=localStorage.getItem(e);s!==null&&(t.value=s)};#n=t=>{t.value=""};#o=t=>{const e=this.#s.get(t);t.removeEventListener("input",e)};#r=t=>{const e=t.dataset[this.#t];localStorage.removeItem(e)};destroy(){for(const t of this.#e)this.#n(t),this.#o(t),this.#r(t)}init(){if(this.#e.length)for(const t of this.#e){if(t.type==="password")continue;const e=this.#i.bind(this,t);this.#s.set(t,e),t.addEventListener("input",e),this.#a(t)}}}export{i as InputSave};
